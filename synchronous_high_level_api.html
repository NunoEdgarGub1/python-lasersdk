

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>The Synchronous High Level API &mdash; TOPTICA Python Laser SDK 2.2.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="The Asynchronous High Level API" href="asynchronous_high_level_api.html" />
    <link rel="prev" title="The Low Level API" href="low_level_api.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> TOPTICA Python Laser SDK
          

          
            
            <img src="_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2.2.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="get_connected.html">Get Connected with Your Laser</a></li>
<li class="toctree-l1"><a class="reference internal" href="low_level_api.html">The Low Level API</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">The Synchronous High Level API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#client-access-to-parameters">Client Access to Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#parameter-subscription">Parameter Subscription</a></li>
<li class="toctree-l2"><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="asynchronous_high_level_api.html">The Asynchronous High Level API</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">TOPTICA Python Laser SDK</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>The Synchronous High Level API</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/synchronous_high_level_api.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="the-synchronous-high-level-api">
<h1>The Synchronous High Level API<a class="headerlink" href="#the-synchronous-high-level-api" title="Permalink to this headline">¶</a></h1>
<p>The main advantage of using the high level APIs over their low level counterparts is the support of automatic parameter name completion in Python IDEs. With the high level APIs parameter name typing errors are a thing of the past.</p>
<p>The Python classes and modules needed for this feature are autogenerated from the parameter models of the supported laser types. A separate Python module is provided for each software release.</p>
<div class="section" id="client-access-to-parameters">
<h2>Client Access to Parameters<a class="headerlink" href="#client-access-to-parameters" title="Permalink to this headline">¶</a></h2>
<p>Reading or writing parameter values works as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">toptica.lasersdk.dlcpro.v1_6_3</span> <span class="kn">import</span> <span class="n">DLCpro</span><span class="p">,</span> <span class="n">NetworkConnection</span>

<span class="k">with</span> <span class="n">DLCpro</span><span class="p">(</span><span class="n">NetworkConnection</span><span class="p">(</span><span class="s1">&#39;My Laser&#39;</span><span class="p">))</span> <span class="k">as</span> <span class="n">dlcpro</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">dlcpro</span><span class="o">.</span><span class="n">system_label</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
    <span class="n">dlcpro</span><span class="o">.</span><span class="n">system_label</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;Please do not touch!&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The separator character (‘:’) used within full parameter names is replaced by the Python dot operator (‘.’). Hyphens (‘-‘) are replaced by underscores (‘_’).</p>
<p>Invoking events works as expected:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dlcpro</span><span class="o">.</span><span class="n">laser1</span><span class="o">.</span><span class="n">dl</span><span class="o">.</span><span class="n">lock</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>The same applies for events with extensions (aka commands):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Execute command with two arguments that returns a bytes object</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">dlcpro</span><span class="o">.</span><span class="n">laser1</span><span class="o">.</span><span class="n">recorder</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>

<span class="c1"># Execute command with binary output stream and no return value</span>
<span class="n">output_stream</span> <span class="o">=</span> <span class="n">dlcpro</span><span class="o">.</span><span class="n">system_service_report</span><span class="o">.</span><span class="n">service_report</span><span class="p">()</span>

<span class="c1"># Execute command with one argument, binary input stream, string-type</span>
<span class="c1"># output stream, and no return value</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;DLCpro-archive.fw&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="n">output_stream</span> <span class="o">=</span> <span class="n">dlcpro</span><span class="o">.</span><span class="n">fw_update</span><span class="o">.</span><span class="n">upload</span><span class="p">(</span><span class="n">input_stream</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="parameter-subscription">
<h2>Parameter Subscription<a class="headerlink" href="#parameter-subscription" title="Permalink to this headline">¶</a></h2>
<p>Parameter value subscription is also possible. Change notifications are delivered via a callback function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">callback</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">exc</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Parameter </span><span class="si">{}</span><span class="s1"> changed its value to </span><span class="si">{}</span><span class="s1"> at </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">))</span>

<span class="k">with</span> <span class="n">dlcpro</span><span class="o">.</span><span class="n">laser1</span><span class="o">.</span><span class="n">dl</span><span class="o">.</span><span class="n">cc</span><span class="o">.</span><span class="n">current_act</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">callback</span><span class="p">):</span>
    <span class="n">dlcpro</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>See <a class="reference internal" href="examples.html#synchronous-api-example"><span class="std std-ref">Synchronous API Example</span></a>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="asynchronous_high_level_api.html" class="btn btn-neutral float-right" title="The Asynchronous High Level API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="low_level_api.html" class="btn btn-neutral float-left" title="The Low Level API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018-2020, TOPTICA Photonics AG

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>